# Jakarta EE 仕様駆動開発 共通ルール

バージョン: 1.0.0  
制定日: 2025-12-13  
最終更新日: 2026-01-17

## 概要

このドキュメントは、Jakarta EE標準Agent Skillsを使用するすべてのプロジェクトで共通的に適用される共通ルールとドキュメント規約を定義する

* 対象技術スタック: Jakarta EE 10, JPA 3.1, JAX-RS 3.1, CDI 4.0, Bean Validation 3.0
* 対応アプリケーションサーバー: Payara Server 6, WildFly等
* 開発スタイル: 仕様駆動開発（Spec-Driven Development）

## 仕様駆動開発の基本ルール

### 仕様ファースト開発

すべての機能開発は、詳細なSPECの作成から始める
実装前に仕様を明確化し、レビューを経て承認されたものだけを実装する

根拠: 仕様駆動開発により、実装の手戻りを最小化し、品質の高いソフトウェアを効率的に開発する

### アーキテクチャの一貫性

Jakarta EE 10のベストプラクティスに従い、レイヤーアーキテクチャ（Presentation、Business Logic、Data Access、Entity）を厳格に守る

根拠: 一貫したアーキテクチャにより、保守性と拡張性を確保する

### テスト駆動品質

すべてのビジネスロジックに対して単体テストを作成する

根拠: 自動テストにより、リグレッションを防ぎ、継続的な品質を保証する

### ドキュメント品質の追求

コードだけでなく、以下のSPECドキュメントを常に最新の状態に保つ：

* 要件定義書（requirements.md）
* アーキテクチャ設計書（architecture_design.md）
* 機能設計書（functional_design.md）
* データモデル設計書（data_model.md）
* 振る舞い仕様書（behaviors.md）
* 外部インターフェース仕様書（external_interface.md）

根拠: 優れたドキュメントは、チーム間の知識共有とオンボーディングを加速する

## Markdownフォーマット規約

すべての生成されるドキュメントは以下のフォーマット規約に従う：

* 箇条書きはアスタリスク（`*`）を使用する
  * ハイフン（`-`）は使用しない
  * 一貫性を保つため、すべての箇条書きで統一する
* 箇条書きは必要に応じてネストする
  * 親項目が「項目名:」で終わる場合、その配下の項目は2スペースインデントする
  * ネストは意味的なグループ化を明確にする
* ボールド（太字）は使用しない
  * 見出しレベル（`#`、`##`、`###`等）で構造化する
  * 強調が必要な場合は、箇条書きや見出しで表現する
* コード例の前には箇条書き形式で説明を記載する
  * 例: `* JPQL:`の後にコードブロック

根拠: 統一されたフォーマットにより、可読性が向上し、ドキュメントの保守性が高まる

## タスクの完遂責任

開始したタスクは、中断せず最後まで完遂する
すべてのステップ（SPEC作成、コード生成、テスト作成、ドキュメント更新）を完了させてから終了する

根拠: 途中で停止すると、不完全な状態のままタスクが残り、プロジェクトの進捗に悪影響を与える
一度開始したタスクは責任を持って完了させることで、品質と生産性を保証する
