<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<f:metadata>
    <f:viewParam name="personId" value="#{personInputBean.personId}"/>
</f:metadata>

<h:head>
    <meta charset="UTF-8"/>
    <title>PERSON入力</title>
    <h:outputStylesheet name="css/style.css"/>
</h:head>

<h:body>
    <h1>PERSON入力</h1>
    
    <!-- Error and Success Messages -->
    <h:messages globalOnly="false" 
                showSummary="true" 
                showDetail="false" 
                styleClass="error-messages"/>
    
    <h:form>
        <!-- Hidden field to preserve personId in edit mode -->
        <h:inputHidden value="#{personInputBean.personId}"/>
        
        <!-- Name Input Field -->
        <div class="form-group">
            <label for="personName">名前:</label>
            <h:inputText id="personName" 
                         value="#{personInputBean.personName}" 
                         size="30" 
                         required="true"/>
            <h:message for="personName" styleClass="error-message"/>
        </div>
        
        <!-- Age Input Field -->
        <div class="form-group">
            <label for="age">年齢:</label>
            <h:inputText id="age" 
                         value="#{personInputBean.age}" 
                         size="10" 
                         required="true"/>
            <h:message for="age" styleClass="error-message"/>
        </div>
        
        <!-- Gender Radio Buttons -->
        <div class="form-group">
            <label>性別:</label>
            <h:selectOneRadio id="gender" 
                              value="#{personInputBean.gender}" 
                              required="true">
                <f:selectItem itemValue="male" itemLabel="男性"/>
                <f:selectItem itemValue="female" itemLabel="女性"/>
            </h:selectOneRadio>
            <h:message for="gender" styleClass="error-message"/>
        </div>
        
        <!-- Action Buttons -->
        <div class="form-group button-group">
            <h:commandButton value="確認画面へ" 
                             action="#{personInputBean.confirm}" 
                             styleClass="button"/>
            <h:commandButton value="キャンセル" 
                             action="#{personInputBean.cancel}" 
                             immediate="true" 
                             styleClass="button cancel"/>
        </div>
    </h:form>
</h:body>
</html>
